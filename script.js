const timelineData = [
    {
        date: '15 de Maio, 2021',
        title: 'Primeiro mini-passeio juntos',
        text: 'Nesse dia, mesmo sem jeito e morrendo de nervosismo, demos os literais primeiros passos juntos para fora da porta. Principais lembranças: mãos dadas, e o nervosismo de ficar pensando o passeio inteiro até falar que te amo pela primeira vez, na despedida sjsj.',
        imageSrc: 'src/timeline/peac.png',
        icon: '📖'
    },
    {
        date: '26 de Agosto, 2021',
        title: 'Fomos à exposição de Van Gogh',
        text: 'Esse foi o primeiro passeio real sjsj de máscara era tudo complicado; Minha melhor lembrança desse dia foi tu deitar a cabeça no meu ombro no ônibus.',
        imageSrc: 'src/timeline/vangogh.png',
        icon: '🎨'
    },
    {
        date: '15 de Fevereiro, 2022',
        title: 'Exposição de Monet',
        text: 'Inspirados pelos rolês culturais, nesse já éramos muuito mais próximos, lembro de ler por acidente no teu celular uma mensagem de dona Lígia perguntando se já tinha "pedido" sjsjsj.',
        imageSrc: 'src/timeline/monet.png',
        icon: '👨‍🎨'
    },
    {
        date: '24 de Abril, 2022',
        title: 'Registro de um passeio no Vale',
        text: 'Esse foi o primeiro passeio real sjsj de máscara era tudo complicado; Minha melhor lembrança desse dia foi tu deitar a cabeça no meu ombro no ônibus.',
        imageSrc: 'src/timeline/vale.png',
        icon: '🌳'
    },
    {
        date: '04 de Junho de 2022',
        title: 'Cinamateca do Capitólio - E. T.',
        text: 'Foi um passeio muuito bom, como todas as voltas na praça dos Açorianos, com o plus de um filme leve de comédia que nos fez rir muito. Lembro de tu estar feliz por saber exatament onde era o  lugar que íamos por ver o prédio pela janela do Senac.',
        imageSrc: 'src/timeline/capitolio.jpg',
        icon: '👽'
    },
    {
        date: '12 de Junho, 2022',
        title: 'Primeiro Dia dos Namorados',
        text: 'Além do primeiro Dia dos Namorados, foi o dia que te entreguei nossas alianças primeiras. Foi um dia muito especial, lembro de quase cair dentro do lago quando fui me virar pra te entregar a caixinha e a flor sjksksj',
        imageSrc: 'src/timeline/dianamorados.png',
        icon: '❤️'
    },
    {
        date: '2 de Novembro, 2022',
        title: 'Picnic no Parque Marinha',
        text: 'Caminhamos bastaante procurando um lugar bom e na sombra pra esticar a toalha, lembro de até cochilar abraçadinho contigo, e também de te dar 100 beijinhos seguidos.',
        imageSrc: 'src/timeline/marinha.png',
        icon: '🏞'
    },
    {
        date: '27 de Maio, 2023',
        title: 'Dia com mais fotos',
        text: 'Eu tinha recém passado por um momento difícil (me calvaram 😪), e foi o dia que tu decidiu que teríamos mais registros (ainda temos essa característica skjhjss)',
        imageSrc: 'src/timeline/image.png',
        icon: '🤳'
    },
    {
        date: '17 de Dezembro, 2023',
        title: 'Passeio de Barco',
        text: 'Foi um dia muito especial, faziam poucos dias que eu tinha me matriculado no senac e tu já me fez conhecer os futuros colegas de empresa meses antes sjhsjs foi bom ficar só contigo, apesar de quase ter te envenenado (época q tu era alergica ainda kjsks).',
        imageSrc: 'src/timeline/barco.png',
        icon: '⛴'
    },
    {
        date: '20 de Março, 2024',
        title: 'Juntos no Campus da PUC',
        text: 'Além de ajudar a entrar na empresa, me ajudou muito a ficar mais à vontade na empresa e interagir com as pessoas da tua área e maior convívio, tua presença foi essencial pra mim até profissionalmente.',
        imageSrc: 'src/timeline/puc.png',
        icon: '💼'
    },
    {
        date: '24 de Julho, 2025',
        title: 'Festa da Empresa',
        text: 'Nesse dia conseguimos não ser os primeiros a ir embora, e é também a última foto que tenho nossa juntos. Tinha muita foto pra adicionar de rolês mas que não apareciam eu e tu, então preferi deixar só essas para não spammar tanto (agora). Reforçando o de sempre: PRECISAMOS TIRAR MAIS FOTOOS sjssk',
        imageSrc: 'src/timeline/festa.png',
        icon: '💍'
    }
];

const loveLetterText = `Meu amor,

Sei que tu gosta de coisinhas feitas à mão mas sou muito pouco habilidoso com artesanatos e origamis, então usei o que eu sei fazer pra pensar em um presente diferente (apesar de previsível, se for pensar no que trabalho) e "feito à mão" sjsjsjs

Hoje, pra confirmar nossas teses de outras vidas, no mesmo dia que o amor da minha vida faz aniversário, completamos 900 dias de namoro. 

Faltam 100 dias pro milésimo dia junto, e pensar nisso é muito estranho porque parece que foi ontem que eu descia essa lombinha todo dia de semana só pra te encontrar e subir juntos. 

Vou tentar ser breve pra ter menos trabalho de formatar depois Ajsjsjajs mas queria te agradecer primeiramente por tudo que tu é pra mim, e eu admiro muito muito muito a mulher que tu se tornou, da tua evolução profissional, do caminho que ta trilhando na nova empresa já deixando evidente tua qualidade, e de todas tuas qualidades pessoais também! Tua compreensão comigo, o tanto que cuida de mim, e o quanto que cuida de nós.

Queria te desejar, e vou fazer o possível para tal, um futuro maravilhoso, com tempo pra curtir a vida além de bater ponto, viajar, ir pra lugares que queira conhecer, ter teus bichinhos, teu carro, tua (nossa?) casa, e tu tens tudo pra alcançar tudo isso sem precisar aumentar empenho nenhum, porque tudo o que tu luta, tudo o que tu já lutou, e toda a vontade de conseguir que tu tem é acima do suficiente pra isso, e tenho muito orgulho e sorte de poder ter te acompanhado mais de perto desde as batalhas de vestibulanda recém formada, e poder comemorar contigo cada passo pra frente na tua jornada. 

Muito obrigado por ser a minha princesa, me perdoa pela falta de criatividade para o textinho, essa semana foi um porre e só me sobrou o pó e dor de cabeça sjsjskshs

EU TE ÄCELUMDISPERILUSIOSOOOOO❤️
TE AMO DAQUI ATÉ A LUA E VOLTANDO❤️
SEMPRE SERÁ A TERRA DO MEU JÚPITEEEER❤️

PARABÉEEEEEEEEEEEEEENS❤️
INFINITOS ANOS DE VIDA MINHA PRINCESAAAAAAAAAAA❤️

Para sempre seu,
Com todo o amor do mundo ❤️`;


function renderHorizontalTimeline() {
    const container = document.getElementById('horizontal-timeline-container');
    if (!container) return;

    const cardsHTML = timelineData.map(item => `
        <div class="timeline-card-h">
            <img src="${item.imageSrc}" alt="${item.title}" class="timeline-card-h-img">
            <div class="timeline-card-h-content">
                <div class="timeline-card-h-header">
                    <span class="timeline-card-h-icon">${item.icon}</span>
                    <span class="text-sm text-muted font-semibold">${item.date}</span>
                </div>
                <h3 class="text-xl font-playfair font-semibold mb-2">${item.title}</h3>
                <p class="text-muted text-sm">${item.text}</p>
            </div>
        </div>
    `).join('');

    container.innerHTML = cardsHTML;
}

function setupTimelineNavigation() {
    const container = document.getElementById('horizontal-timeline-container');
    const prevBtn = document.getElementById('timeline-prev');
    const nextBtn = document.getElementById('timeline-next');
    
    if (!container || !prevBtn || !nextBtn) return;

    const scrollAmount = () => container.offsetWidth * 0.85;

    nextBtn.addEventListener('click', () => container.scrollBy({ left: scrollAmount(), behavior: 'smooth' }));
    prevBtn.addEventListener('click', () => container.scrollBy({ left: -scrollAmount(), behavior: 'smooth' }));
}

function initializeCounters() {
    const relationshipStart = new Date('2022-04-10T15:30:00'); 
    const herBirthday = new Date('2002-09-27T00:00:00');
    const hisBirthday = new Date('2002-05-31T07:40:00');

    function updateCounters() {
        const now = new Date();
        const timeDiff = now.getTime() - relationshipStart.getTime();
        if (timeDiff < 0) return;
        const herLifeTime = now.getTime() - herBirthday.getTime();
        const hisLifeTime = now.getTime() - hisBirthday.getTime();
        const herLifePercentage = (timeDiff / herLifeTime) * 100;
        const hisLifePercentage = (timeDiff / hisLifeTime) * 100;
        const totalDays = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);
        
        document.getElementById('total-days').textContent = totalDays.toLocaleString();
        document.getElementById('real-time').textContent = `${totalDays}d ${hours}h ${minutes}m ${seconds}s`;
        document.getElementById('her-percentage').textContent = `${herLifePercentage.toFixed(2)}%`;
        document.getElementById('his-percentage').textContent = `${hisLifePercentage.toFixed(2)}%`;
    }
    updateCounters();
    setInterval(updateCounters, 1000);
}

function setupLoveLetter() {
    const trigger = document.getElementById('love-letter-trigger');
    const modal = document.getElementById('love-letter-modal');
    const closeBtn = document.getElementById('close-letter-btn');
    const letterBody = modal.querySelector('.love-letter-body');

    if (!trigger || !modal || !closeBtn || !letterBody) return;

    letterBody.innerText = loveLetterText;

    const openLetter = () => modal.classList.add('active');
    const closeLetter = () => modal.classList.remove('active');

    trigger.addEventListener('click', openLetter);
    closeBtn.addEventListener('click', closeLetter);
    modal.addEventListener('click', (event) => {
        if (event.target === modal) closeLetter();
    });
}

document.addEventListener('DOMContentLoaded', function() {
    renderHorizontalTimeline();
    setupTimelineNavigation();
    initializeCounters();
    setupLoveLetter(); 
    
    const heroButton = document.querySelector('.hero-start-journey');
    if (heroButton) {
        heroButton.addEventListener('click', () => {
            document.getElementById('timeline').scrollIntoView({ behavior: 'smooth' });
        });
    }
});